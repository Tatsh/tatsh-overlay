From bff5cf0c3bcba1788c20a7662d73e0ee4f2b2bf9 Mon Sep 17 00:00:00 2001
From: Andrew Udvare <audvare@gmail.com>
Date: Fri, 8 Oct 2021 11:37:19 -0400
Subject: [PATCH 03/12] Allow use of system SPIRV and glslang

---
 3rdparty/CMakeLists.txt | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/3rdparty/CMakeLists.txt b/3rdparty/CMakeLists.txt
index ccbd27e43..ed1ad9998 100644
--- a/3rdparty/CMakeLists.txt
+++ b/3rdparty/CMakeLists.txt
@@ -99,7 +99,12 @@ endif()
 add_subdirectory(hidapi)
 
 # glslang
-add_subdirectory(glslang EXCLUDE_FROM_ALL)
+if(NOT USE_SYSTEM_GLSLANG)
+  add_subdirectory(glslang EXCLUDE_FROM_ALL)
+  add_library(3rdparty_glslang INTERFACE)
+  target_link_libraries(3rdparty_glslang INTERFACE SPIRV)
+endif()
+#add_subdirectory(SPIRV EXCLUDE_FROM_ALL)
 
 # yaml-cpp
 add_subdirectory(yaml-cpp)
-- 
2.51.1

